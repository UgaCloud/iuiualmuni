{% load static %}
<section class="our-honorable-commitee section-padding">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <div class="about-page-area-title">
                    <h2>Association Leadership</h2>
                    <p>Meet our association executives and leaders</p>
                </div>
            </div>
        </div>

        <div class="honorable-committee-list">
            <div class="row">
                {% for leader in leaders %}
                <div class="col-lg-3 col-sm-6 mb-4">
                    {% with leader_profile=None %}
                        {% for profile in profiles %}
                            {% if profile.member.id == leader.user.member.id %}
                                {% with leader_profile=profile %}
                                {% endwith %}
                            {% endif %}
                        {% endfor %}
                        
                        {% if leader_profile %}
                        <a href="{% url 'profile_detail' leader_profile.id %}" class="text-decoration-none d-block" style="cursor: pointer;">
                            <div class="single-committee-member">
                                <div class="commitee-thumb">
                                    {% if leader_profile.photo %}
                                        <img src="{{ leader_profile.photo.url }}" 
                                             class="img-fluid rounded" 
                                             alt="{{ leader.user.member.full_name }}"
                                             >
                                    {% else %}
                                        <img src="{% static 'assets/images/committee/default.png' %}" 
                                             class="img-fluid rounded" 
                                             alt="{{ leader.user.full_name }}"
                                            >
                                    {% endif %}
                                </div>
                                <h3>
                                    {{ leader.user.member.full_name|default:leader.user.member.member_id|upper }}
                                    <span class="committee-deg d-block mt-2">
                                        {{ leader.position.display_title }}
                                    </span>
                                    {% if leader.user.member.course %}
                                    <small class="text-muted d-block mt-1">
                                        {{ leader.user.member.course }} ({{ leader.user.member.batch }})
                                    </small>
                                    {% endif %}
                                </h3>
                            </div>
                        </a>
                        {% else %}
                        <div class="single-committee-member">
                            <div class="commitee-thumb">
                                <img src="{% static 'assets/images/committee/default.png' %}" 
                                     class="img-fluid rounded" 
                                     alt="{{ leader.user.member.full_name }}"
                                    >
                            </div>
                            <h3>
                                {{ leader.user.member.full_name|default:leader.user.member.member_id|upper }}
                                <span class="committee-deg d-block mt-2">
                                    {{ leader.position.display_title }}
                                </span>
                             
                            </h3>
                        </div>
                        {% endif %}
                    {% endwith %}
                </div>
                {% empty %}
                <div class="col-12 text-center">
                    <div class="alert alert-info">
                        <p class="mb-0">No association leaders found.</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<style>
    .single-committee-member {
        transition: all 0.3s ease;
    }
    
    a:hover .single-committee-member {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    
    .commitee-thumb img {
        width: 100%;
        height: 250px;
        object-fit: cover;
    }
</style>