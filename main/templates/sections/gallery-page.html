{% load static %}
<section id="page-content-wrap">
	<div class="gallery-page-wrap section-padding">
		<!-- Gallery Menu Start -->
		<!-- <div class="gallery-menu text-center">
			<a href="?category=All" class="{% if current_category == 'All' %}active{% endif %}">All</a>
			<a href="?category=Seminar" class="{% if current_category == 'Seminar' %}active{% endif %}">Seminar</a>
			<a href="?category=Event" class="{% if current_category == 'Event' %}active{% endif %}">Event</a>
			<a href="?category=Picnic" class="{% if current_category == 'Picnic' %}active{% endif %}">Picnic</a>
		</div> -->
		<!-- Gallery Menu End -->

		<!--= Gallery Page Content Wrap Start =-->
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="full-album-content">
						{% for album in albums %}
						<!-- Single Album Start -->
						<div class="single-album-wraper">
							<div class="album-heading">
								<h2><a href="{% url 'gallery_single_slug' album.slug %}">{{ album.title }}</a></h2>
								<p>{{ album.description|truncatechars:200 }}</p>
								<a href="{% url 'gallery_single_slug' album.slug %}" class="btn btn-brand">View Album</a>
							</div>

							<div class="album-gallery-item">
								<div class="row gallery-gird">
									{% for image in album.images.all|slice:":8" %}
									<!-- Single Gallery Start -->
									<div class="col-lg-3 col-sm-6 {% if image.is_featured %}featured{% endif %}">
										{% if image.video_url %}
										<div class="single-gallery-item video">
											<a href="{{ image.video_url }}" class="btn btn-video-play video-popup"><i class="fa fa-play"></i></a>
										</div>
										{% else %}
										<div class="single-gallery-item" {% if image.image %}style="background-image: url('{{ image.image.url }}');"{% endif %}>
											<div class="gallery-hvr-wrap">
												<div class="gallery-hvr-text">
													<h4>{{ image.title|default:album.title }}</h4>
													<p class="gallery-event-date">{{ album.album_date|date:"j M, Y" }}</p>
												</div>
												{% if image.image %}
												<a href="{{ image.image.url }}" class="btn-zoom image-popup">
													<img src="{% static 'assets/images/zoom-icon.png' %}" alt="Zoom">
												</a>
												{% endif %}
											</div>
										</div>
										{% endif %}
									</div>
									<!-- Single Gallery End -->
									{% endfor %}
								</div>
							</div>
						</div>
						<!-- Single Album End -->
						{% empty %}
						<div class="text-center py-5">
							<div class="alert alert-info">
								<i class="fas fa-images fa-lg mb-3"></i>
								<h4>No albums available</h4>
								<p>Check back later for gallery updates</p>
							</div>
						</div>
						{% endfor %}
					</div>
					
					{% if albums.has_other_pages %}
					<div class="pagination-wrap text-center">
						<nav>
							<ul class="pagination">
								{% if albums.has_previous %}
								<li class="page-item"><a class="page-link" href="?page={{ albums.previous_page_number }}{% if current_category and current_category != 'All' %}&category={{ current_category }}{% endif %}"><i class="fa fa-angle-left"></i></a></li>
								{% else %}
								<li class="page-item disabled"><a class="page-link" href="#"><i class="fa fa-angle-left"></i></a></li>
								{% endif %}

								{% for num in albums.paginator.page_range %}
									{% if albums.number == num %}
									<li class="page-item active"><a class="page-link" href="#">{{ num }}</a></li>
									{% elif num > albums.number|add:'-3' and num < albums.number|add:'3' %}
									<li class="page-item"><a class="page-link" href="?page={{ num }}{% if current_category and current_category != 'All' %}&category={{ current_category }}{% endif %}">{{ num }}</a></li>
									{% endif %}
								{% endfor %}

								{% if albums.has_next %}
								<li class="page-item"><a class="page-link" href="?page={{ albums.next_page_number }}{% if current_category and current_category != 'All' %}&category={{ current_category }}{% endif %}"><i class="fa fa-angle-right"></i></a></li>
								{% else %}
								<li class="page-item disabled"><a class="page-link" href="#"><i class="fa fa-angle-right"></i></a></li>
								{% endif %}
							</ul>
						</nav>
					</div>
					{% endif %}
				</div>
			</div>
		</div>
		<!--= Gallery Page Content Wrap End =-->
	</div>
</section>